
- compileDateTime = new Date()

doctype html
html(lang="en")
	head
		meta(charset="utf-8")
		title WIPO Publish
		base(href="/")

		meta(name="compileDateTime", content!=compileDateTime)
		meta(name="commit", hash="COMMIT_HASH", dateTime="COMMIT_DATETIME")
		meta(http-equiv="Cache-Control", content="no-cache, no-store, must-revalidate")
		meta(http-equiv="pragma", content="no-cache")
		meta(http-equiv="expires", content="-1")
		meta(name="viewport", content="width=device-width, initial-scale=1")
		link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css", integrity="sha384-4LISF5TTJX/fLmGSxO53rV4miRxdg84mZsxmO8Rx5jGtp/LbrixFETvWa5a6sESd", crossorigin="anonymous")
		link(rel="icon", type="image/x-icon", href="favicon.ico")

		script.
			const showBody = () => {
				document.getElementsByTagName("body")[0].style.opacity = 1
			}
			
			window.onload = showBody;
			
			// failsafe just in case something goes funky and the window.onload event never gets triggered, or triggered after 2 years
			setTimeout(showBody, 4000)


			//- https://css-tricks.com/the-trick-to-viewport-units-on-mobile/
			const redefineVH = () => {
				const vh = window.innerHeight * 0.01;
				document.documentElement.style.setProperty('--vh', `${vh}px`);
			}
			let timeoutDebounce = null
			window.addEventListener('resize', () =>{
				clearTimeout(timeoutDebounce)
				timeoutDebounce = setTimeout(redefineVH, 200)
			});


	body(style="opacity:0")
		app-root

		script(src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js",
			integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA==",
			crossorigin="anonymous",
			referrerpolicy="no-referrer")
